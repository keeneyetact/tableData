/* Tabulator v4.0.0 (c) Oliver Folkerd */
"use strict";var FrozenColumns=function(o){this.table=o,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.initializationMode="left",this.active=!1};FrozenColumns.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1},FrozenColumns.prototype.initializeColumn=function(o){var t={margin:0,edge:!1};o.definition.frozen?o.parent.isGroup?console.warn("Frozen Column Error - Grouped columns cannot be frozen"):o.isGroup?console.warn("Frozen Column Error - Column Groups cannot be frozen"):(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(o):this.rightColumns.unshift(o),this.active=!0,o.modules.frozen=t):this.initializationMode="right"},FrozenColumns.prototype.layout=function(){var o=this,t=this.table.rowManager.element,e=0;o.active&&(o.leftMargin=o._calcSpace(o.leftColumns,o.leftColumns.length),o.table.columnManager.headersElement.style.marginLeft=o.leftMargin+"px",o.rightMargin=o._calcSpace(o.rightColumns,o.rightColumns.length),o.table.columnManager.element.style.paddingRight=o.rightMargin+"px",o.table.rowManager.activeRows.forEach(function(t){o.layoutRow(t)}),o.table.modExists("columnCalcs")&&(o.table.modules.columnCalcs.topInitialized&&o.table.modules.columnCalcs.topRow&&o.layoutRow(o.table.modules.columnCalcs.topRow),o.table.modules.columnCalcs.botInitialized&&o.table.modules.columnCalcs.botRow&&o.layoutRow(o.table.modules.columnCalcs.botRow)),o.leftColumns.forEach(function(t,e){t.modules.frozen.margin=o._calcSpace(o.leftColumns,e)+o.table.columnManager.scrollLeft,e==o.leftColumns.length-1?t.modules.frozen.edge=!0:t.modules.frozen.edge=!1,o.layoutColumn(t)}),e=o.table.rowManager.element.clientWidth+o.table.columnManager.scrollLeft,t.scrollHeight>t.clientHeight&&(e-=t.offsetWidth-t.clientWidth),o.rightColumns.forEach(function(t,n){t.modules.frozen.margin=e-o._calcSpace(o.rightColumns,n+1),n==o.rightColumns.length-1?t.modules.frozen.edge=!0:t.modules.frozen.edge=!1,o.layoutColumn(t)}))},FrozenColumns.prototype.layoutColumn=function(o){var t=this;t.layoutElement(o.getElement(),o),o.cells.forEach(function(e){t.layoutElement(e.getElement(),o)})},FrozenColumns.prototype.layoutRow=function(o){var t=o.getElement();t.style.paddingLeft=this.leftMargin+"px",t.style.paddingRight=this.rightMargin+"px"},FrozenColumns.prototype.layoutElement=function(o,t){t.modules.frozen&&(o.style.position="absolute",o.style.left=t.modules.frozen.margin+"px",o.classList.add("tabulator-frozen"),t.modules.frozen.edge&&o.classList.add("tabulator-frozen-"+t.modules.frozen.position))},FrozenColumns.prototype._calcSpace=function(o,t){for(var e=0,n=0;n<t;n++)o[n].visible&&(e+=o[n].getWidth());return e},Tabulator.prototype.registerModule("frozenColumns",FrozenColumns);