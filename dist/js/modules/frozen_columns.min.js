/* Tabulator v4.0.0 (c) Oliver Folkerd */
"use strict";var FrozenColumns=function(o){this.table=o,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.initializationMode="left",this.active=!1};FrozenColumns.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1},FrozenColumns.prototype.initializeColumn=function(o){var e={margin:0,edge:!1};o.definition.frozen?o.parent.isGroup?console.warn("Frozen Column Error - Grouped columns cannot be frozen"):o.isGroup?console.warn("Frozen Column Error - Column Groups cannot be frozen"):(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(o):this.rightColumns.unshift(o),this.active=!0,o.modules.frozen=e):this.initializationMode="right"},FrozenColumns.prototype.layout=function(){var o=this,e=this.table.rowManager.element,t=0;o.active&&(o.leftMargin=o._calcSpace(o.leftColumns,o.leftColumns.length),o.table.columnManager.headersElement.style.marginLeft=o.leftMargin+"px",o.rightMargin=o._calcSpace(o.rightColumns,o.rightColumns.length),o.table.columnManager.element.style.paddingRight=o.rightMargin+"px",o.table.rowManager.activeRows.forEach(function(e){o.layoutRow(e)}),o.table.modExists("columnCalcs")&&(o.table.modules.columnCalcs.topInitialized&&o.table.modules.columnCalcs.topRow&&o.layoutRow(o.table.modules.columnCalcs.topRow),o.table.modules.columnCalcs.botInitialized&&o.table.modules.columnCalcs.botRow&&o.layoutRow(o.table.modules.columnCalcs.botRow)),o.leftColumns.forEach(function(e,t){e.modules.frozen.margin=o._calcSpace(o.leftColumns,t)+o.table.columnManager.scrollLeft,t==o.leftColumns.length-1?e.modules.frozen.edge=!0:e.modules.frozen.edge=!1,o.layoutColumn(e)}),t=o.table.rowManager.element.innerWidth()+o.table.columnManager.scrollLeft,e[0].scrollHeight>e.innerHeight()&&(t-=e[0].offsetWidth-e[0].clientWidth),o.rightColumns.forEach(function(e,n){e.modules.frozen.margin=t-o._calcSpace(o.rightColumns,n+1),n==o.rightColumns.length-1?e.modules.frozen.edge=!0:e.modules.frozen.edge=!1,o.layoutColumn(e)}))},FrozenColumns.prototype.layoutColumn=function(o){var e=this;e.layoutElement(o.element,o),o.cells.forEach(function(t){e.layoutElement(t.element,o)})},FrozenColumns.prototype.layoutRow=function(o){var e=o.getElement();e.style.paddingLeft=this.leftMargin+"px",e.style.paddingRight=this.rightMargin+"px"},FrozenColumns.prototype.layoutElement=function(o,e){if(e.modules.frozen){var t={position:"absolute",left:e.modules.frozen.margin};o.css(t),o.addClass("tabulator-frozen"),e.modules.frozen.edge&&o.addClass("tabulator-frozen-"+e.modules.frozen.position)}},FrozenColumns.prototype._calcSpace=function(o,e){for(var t=0,n=0;n<e;n++)o[n].visible&&(t+=o[n].getWidth());return t},Tabulator.prototype.registerModule("frozenColumns",FrozenColumns);