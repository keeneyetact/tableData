/* Tabulator v4.0.0 (c) Oliver Folkerd */
"use strict";var FrozenColumns=function(n){this.table=n,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.initializationMode="left",this.active=!1};FrozenColumns.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1},FrozenColumns.prototype.initializeColumn=function(n){var e={margin:0,edge:!1};n.definition.frozen?n.parent.isGroup?console.warn("Frozen Column Error - Grouped columns cannot be frozen"):n.isGroup?console.warn("Frozen Column Error - Column Groups cannot be frozen"):(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(n):this.rightColumns.unshift(n),this.active=!0,n.extensions.frozen=e):this.initializationMode="right"},FrozenColumns.prototype.layout=function(){var n=this,e=this.table.rowManager.element,t=0;n.active&&(n.leftMargin=n._calcSpace(n.leftColumns,n.leftColumns.length),n.table.columnManager.headersElement.css("margin-left",n.leftMargin),n.rightMargin=n._calcSpace(n.rightColumns,n.rightColumns.length),n.table.columnManager.element.css("padding-right",n.rightMargin),n.table.rowManager.activeRows.forEach(function(e){n.layoutRow(e)}),n.table.extExists("columnCalcs")&&(n.table.extensions.columnCalcs.topInitialized&&n.table.extensions.columnCalcs.topRow&&n.layoutRow(n.table.extensions.columnCalcs.topRow),n.table.extensions.columnCalcs.botInitialized&&n.table.extensions.columnCalcs.botRow&&n.layoutRow(n.table.extensions.columnCalcs.botRow)),n.leftColumns.forEach(function(e,t){e.extensions.frozen.margin=n._calcSpace(n.leftColumns,t)+n.table.columnManager.scrollLeft,t==n.leftColumns.length-1?e.extensions.frozen.edge=!0:e.extensions.frozen.edge=!1,n.layoutColumn(e)}),t=n.table.rowManager.element.innerWidth()+n.table.columnManager.scrollLeft,e[0].scrollHeight>e.innerHeight()&&(t-=e[0].offsetWidth-e[0].clientWidth),n.rightColumns.forEach(function(e,o){e.extensions.frozen.margin=t-n._calcSpace(n.rightColumns,o+1),o==n.rightColumns.length-1?e.extensions.frozen.edge=!0:e.extensions.frozen.edge=!1,n.layoutColumn(e)}))},FrozenColumns.prototype.layoutColumn=function(n){var e=this;e.layoutElement(n.element,n),n.cells.forEach(function(t){e.layoutElement(t.element,n)})},FrozenColumns.prototype.layoutRow=function(n){n.getElement().css({"padding-left":this.leftMargin,"padding-right":this.rightMargin})},FrozenColumns.prototype.layoutElement=function(n,e){if(e.extensions.frozen){var t={position:"absolute",left:e.extensions.frozen.margin};n.css(t),n.addClass("tabulator-frozen"),e.extensions.frozen.edge&&n.addClass("tabulator-frozen-"+e.extensions.frozen.position)}},FrozenColumns.prototype._calcSpace=function(n,e){for(var t=0,o=0;o<e;o++)n[o].visible&&(t+=n[o].getWidth());return t},Tabulator.registerExtension("frozenColumns",FrozenColumns);